# =============================================================================
# SSL Parameters (Shared across all sites)
# Include this in server blocks: include /etc/nginx/snippets/ssl-params.conf;
# =============================================================================

# HSTS (HTTP Strict Transport Security)
# max-age=31536000 = 1 year
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;

# Certificate Transparency
# add_header Expect-CT "max-age=604800, enforce" always;

# Permissions Policy (replaces Feature-Policy)
add_header Permissions-Policy "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()" always;

# Prevent serving files with wrong extension
add_header X-Download-Options "noopen" always;

# DH Parameters (generate with: openssl dhparam -out dhparam.pem 2048)
# ssl_dhparam /etc/nginx/ssl/dhparam.pem;
